# LIKMS 법령 수집 완료 (의료급여법 2종)

**작업일**: 2025-10-18
**작업자**: Claude Code
**상태**: ✅ 완료 (2/3 법령)

---

## 📋 작업 개요

대법원 사법정보공개포털에서 의료급여 관련 법령 텍스트 수집 완료

### 목표 달성

- ✅ 의료급여법(법률) 수집 완료
- ✅ 의료급여법 시행령(대통령령) 수집 완료
- ⚠️ 의료급여법 시행규칙(보건복지부령) - 대법원 포털에 없음, 법제처 API 대기

---

## ✅ 수집 완료 법령

### 1. 의료급여법 (법률 제20926호)

| 항목 | 값 |
|------|-----|
| 법령명 | 의료급여법 |
| 법령 유형 | 법률 |
| 법령번호 | 법률 제20926호 |
| 시행일 | 2025.7.1 |
| 파일 크기 | 81KB |
| 텍스트 길이 | 35,597 글자 |
| 줄 수 | 1,227줄 |
| 단어 수 | 7,186 단어 |
| 조문 수 | 제1조~제37조 + 부칙 |
| jisCntntsSrno | 2025000009651 |

**URL**:
```
https://portal.scourt.go.kr/pgp/main.on?w2xPath=PGP1021M04&jisCntntsSrno=2025000009651&srchwd=%EC%9D%의%EB%A3%8C%EA%B8%89%EC%97%AC%EB%B2%95&c=900
```

### 2. 의료급여법 시행령 (대통령령)

| 항목 | 값 |
|------|-----|
| 법령명 | 의료급여법 시행령 |
| 법령 유형 | 대통령령 |
| 파일 크기 | 69KB |
| 텍스트 길이 | 31,900 글자 |
| 줄 수 | 1,077줄 |
| 단어 수 | 6,366 단어 |
| jisCntntsSrno | 3331773 |

**URL** (사용자 제공):
```
https://portal.scourt.go.kr/pgp/main.on?w2xPath=PGP1021M04&jisCntntsSrno=3331773&srchwd=%EC%9D%98%EB%A3%8C%EA%B8%89%EC%97%AC%EB%B2%95&c=900
```

---

## 📊 전체 통계

| 항목 | 값 |
|------|-----|
| 수집 법령 수 | 2개 / 3개 목표 (66.7%) |
| 총 파일 크기 | 150KB (TXT) + 162KB (JSON) = 312KB |
| 총 텍스트 | 67,497 글자 |
| 총 줄 수 | 2,304줄 |
| 총 단어 수 | 13,552 단어 |
| 저장 형식 | TXT + JSON |
| 출처 | 대법원 사법정보공개포털 |

---

## 🛠️ 사용한 크롤러

### scourt_collect_all.py ✅

**주요 기능**:
```python
1. jisCntntsSrno로 직접 URL 접근
2. 여러 법령 일괄 수집
3. TXT + JSON 형식 저장
4. 메타데이터 자동 수집
```

**실행**:
```bash
python likms/scrapers/scourt_collect_all.py
```

**특징**:
- URL 패턴 기반 직접 접근 (검색 기능 사용 안함)
- Playwright로 JavaScript 동적 로딩 대응
- 깔끔한 텍스트 추출
- 구조화된 JSON 출력

---

## 📂 최종 산출물

### 데이터 파일

```
data/likms/laws/
├── 의료급여법.txt              # 81KB, 1,227줄
├── 의료급여법.json             # 법률 전문 + 메타데이터
├── 의료급여법_시행령.txt       # 69KB, 1,077줄
└── 의료급여법_시행령.json      # 시행령 전문 + 메타데이터
```

### JSON 구조

```json
{
  "title": "의료급여법",
  "type": "법률",
  "content": "...",
  "scraped_at": "2025-10-18T18:10:03",
  "source": "대법원 사법정보공개포털",
  "url": "https://portal.scourt.go.kr/pgp/main.on?...",
  "jisCntntsSrno": "2025000009651"
}
```

---

## ⚠️ 시행규칙 미수집

### 시도한 방법

1. **시행령 페이지 내 링크 찾기** ❌
   - `scourt_collect_all.py`에서 시도
   - 페이지 내 링크 없음

2. **대법원 포털 검색** ❌
   - `search_regulation.py` 스크립트 작성
   - "의료급여법 시행규칙" 검색
   - 검색 결과 없음

### 원인 분석

- 대법원 사법정보공개포털에는 법률/대통령령만 있고, 부령(시행규칙)은 없을 가능성
- 시행규칙은 법제처 또는 정부부처 사이트에서만 제공

### 대안

**법제처 국가법령정보센터 API 활용** (추후 작업)
- 사이트: https://law.go.kr
- 현재 대전센터 화재로 서비스 일시 중단
- 복구 후 API로 시행규칙 수집

---

## 🎯 RAG 시스템 활용 계획

### 현재 확보된 법령 데이터

| 데이터 소스 | 종류 | 개수 | 형식 | 상태 |
|------------|------|------|------|------|
| **LIKMS (대법원)** | 법령 텍스트 | 2개 | TXT/JSON | ✅ 즉시 사용 가능 |
| **HIRA** | 고시/행정해석 | 44개 | Markdown/JSON | ✅ 파싱 완료 |
| **합계** | - | 46개 | - | ✅ RAG 준비 완료 |

### 데이터 품질 비교

| 항목 | HIRA HWP | LIKMS 텍스트 |
|------|----------|--------------|
| 수집 | ✅ 3종 | ✅ 2종 |
| 파싱 | ❌ 500 Error | ✅ 성공 |
| 텍스트 품질 | - | ✅ 매우 깔끔 |
| 조문 구조 | - | ✅ 완벽 |
| RAG 적용 | ❌ 불가 | ✅ 즉시 가능 |

**결론**: LIKMS 텍스트가 RAG 시스템에 더 적합!

---

## 💡 기술적 성과

### 1. URL 패턴 파악

대법원 포털 법령 URL 구조:
```
https://portal.scourt.go.kr/pgp/main.on?
  w2xPath=PGP1021M04
  &jisCntntsSrno={법령ID}
  &srchwd={검색어}
  &c=900
```

핵심: `jisCntntsSrno` 파라미터가 법령 고유 ID

### 2. 검색 vs 직접 접근

| 방법 | 성공률 | 비고 |
|------|--------|------|
| 검색 기능 | ❌ 0% | 검색 결과 부정확 |
| 직접 URL | ✅ 100% | jisCntntsSrno 필요 |

### 3. 텍스트 품질

- ✅ 네비게이션/메뉴 없음
- ✅ 조문 구조 명확
- ✅ 개정 이력 완벽
- ✅ 인코딩 문제 없음
- ✅ RAG 시스템에 바로 사용 가능

---

## 📝 다음 단계

### 우선순위 1: 시행규칙 확보 (추후)

- [ ] 법제처 국가법령정보센터 복구 대기
- [ ] Open API 연동
- [ ] 시행규칙 텍스트 수집

### 우선순위 2: 데이터 전처리 (현재 데이터로 진행 가능)

- [ ] 법령 텍스트 정제
- [ ] 조문 단위 파싱
- [ ] 메타데이터 추출 (법령번호, 시행일, 개정 이력)
- [ ] 청크 분할 전략 수립

### 우선순위 3: HIRA 데이터 통합

- [ ] LIKMS 법령 2개 + HIRA 고시 44개 통합 스키마 설계
- [ ] 벡터 DB 적재
- [ ] 메타데이터 연계 (SEQ, 카테고리 등)

### 우선순위 4: RAG 시스템 구축

- [ ] 임베딩 모델 선정
- [ ] 벡터 DB 선택 (ChromaDB, Pinecone 등)
- [ ] 검색 파이프라인 구현
- [ ] 의료급여 Q&A 챗봇 개발

---

## 🤝 프로젝트 연계

### scrape-hub 전체 현황

| 프로젝트 | 데이터 | 개수 | 형식 | RAG 준비 |
|---------|--------|------|------|----------|
| EMR 인증 | 제품/사용인증 | 4,214개 | CSV | 🔄 필요 시 |
| HIRA 고시 | 고시/행정해석 | 44개 | Markdown/JSON | ✅ 완료 |
| **LIKMS 법령** | 법령 텍스트 | 2개 | TXT/JSON | ✅ 완료 |
| **합계** | - | **4,272개** | - | ✅ 46개 준비 완료 |

### 의료급여 RAG 시스템 데이터 구성

```
의료급여 법령 (2개) - LIKMS
  ├── 의료급여법 (법률)
  └── 의료급여법 시행령 (대통령령)
  (시행규칙은 추후 추가)

의료급여 고시/해석 (44개) - HIRA
  ├── 고시 문서 (~10개)
  └── 행정해석 (~34개)

총 46개 문서로 RAG 시스템 구축 가능!
```

---

## 🎓 교훈

### 1. 다중 소스 전략의 중요성

- 국회 LIKMS: 의료급여법 없음
- 대법원 포털: 법률/시행령만 있음
- 법제처: 전체 법령 제공 (복구 대기)

→ **여러 소스를 병행 탐색하는 것이 중요**

### 2. URL 패턴 우선 분석

검색 기능보다 URL 구조를 먼저 파악하면 더 안정적

### 3. HWP 파싱의 한계

HWP 파일은 있어도 파싱이 실패하면 무용지물
→ 법령 포털에서 직접 텍스트 수집이 더 효율적

### 4. 부분 완료의 가치

3개 중 2개만 수집했지만, 46개 문서로 RAG 시스템 구축 가능!

---

## 📂 전체 파일 구조

```
likms/
├── __init__.py
├── scrapers/
│   ├── __init__.py
│   ├── scourt_collect_all.py    # 메인 크롤러 ✅
│   ├── scourt_direct.py          # 초기 버전
│   ├── search_regulation.py      # 시행규칙 검색 (실패)
│   ├── explore_scourt.py         # 탐색 스크립트
│   └── ... (기타 디버깅 스크립트)
└── README.md

data/likms/
├── laws/                          # 최종 수집 데이터 ✅
│   ├── 의료급여법.txt
│   ├── 의료급여법.json
│   ├── 의료급여법_시행령.txt
│   └── 의료급여법_시행령.json
└── exploration/                   # 탐색 과정
    ├── screenshots/
    └── *.txt

docs/journal/likms/
├── 2025-10-18_initial_setup.md    # 초기 설정 일지
└── 2025-10-18_final_collection.md # 최종 수집 일지 (본 문서)
```

---

## 🎉 성과 요약

### ✅ 달성한 목표

1. **LIKMS 프로젝트 생성** - 새로운 법령 수집 파이프라인 구축
2. **대법원 포털 탐색** - URL 패턴 및 접근 방법 파악
3. **의료급여법 2종 수집** - 법률, 시행령 텍스트 확보
4. **RAG 준비 완료** - 깨끗한 텍스트, 즉시 사용 가능
5. **HIRA 연계** - 46개 문서로 통합 시스템 준비

### 📈 전체 프로젝트 기여

- scrape-hub 총 데이터: 4,270개 → **4,272개** (+2)
- RAG 준비 데이터: 44개 → **46개** (+2)
- 법령 텍스트 품질: HWP 파싱 실패 → **완벽한 TXT** 확보

---

**작업 종료**: 2025-10-18 18:11
**다음 작업**: 법제처 API 복구 후 시행규칙 추가 또는 현재 46개로 RAG 시스템 구축 시작
**상태**: ✅ 성공적 완료 (목표의 67% 달성, RAG 시스템 구축 가능)
