# 2025-11-07 Phase 1-2 ì‹¤í–‰ ë³´ê³ ì„œ: ë°”ì´ì˜¤ë§ˆì»¤ ì¶”ì¶œ ë° HINS ê²€ì‚¬ íŒŒì‹±

**í”„ë¡œì íŠ¸**: medi-claim ì§€ì‹ê·¸ë˜í”„ êµ¬ì¶• (Week 2)
**ì‘ì—…ì**: Claude Code + ì§€ë¯¼
**ì‘ì—… ì¼ì‹œ**: 2025-11-07
**ì†Œìš” ì‹œê°„**: ì•½ 3-4ì‹œê°„

---

## ğŸ“‹ Executive Summary

HINS í†µí•©ì„ ìœ„í•œ Phase 1-2ë¥¼ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.

**ì£¼ìš” ì„±ê³¼**:
- âœ… **17ê°œ ë°”ì´ì˜¤ë§ˆì»¤** ì¶”ì¶œ (í•­ì•”ì œ 154ê°œ â†’ 55ê°œ ì•½ë¬¼ì—ì„œ ì‹ë³„)
- âœ… **38ê°œ ì •í™•í•œ í•­ì•” ë°”ì´ì˜¤ë§ˆì»¤ ê²€ì‚¬** íŒŒì‹± (8,417ê°œ â†’ í•„í„°ë§)
- âœ… MET ì˜¤íƒì§€ ë¬¸ì œ ë°œê²¬ ë° í•´ê²° (959ê°œ â†’ 38ê°œë¡œ ì •ì œ)
- âœ… EDI ì½”ë“œ 100% í™•ë³´, SNOMED CT 15.8% ë§¤í•‘

**ì¶œë ¥ íŒŒì¼**:
- `bridges/biomarkers_extracted.json` (26.2 KB)
- `data/hins/parsed/biomarker_tests_structured.json` (21.8 KB)

---

## Phase 1: ë°”ì´ì˜¤ë§ˆì»¤ ì¶”ì¶œ

### ëª©í‘œ
í•­ì•”ì œ ì‚¬ì „ 154ê°œì—ì„œ ë°”ì´ì˜¤ë§ˆì»¤ ì •ë³´ë¥¼ ìë™ìœ¼ë¡œ ì¶”ì¶œí•©ë‹ˆë‹¤.

### ì…ë ¥ ë°ì´í„°
**íŒŒì¼**: `bridges/anticancer_master_classified.json`

**ë°ì´í„° êµ¬ì¡°**:
```json
{
  "ingredient_ko": "ì•„ë² ë§ˆì‹œí´ë¦½",
  "ingredient_en": "abemaciclib",
  "atc_code": "L01EF03",
  "atc_level3_name": "CDK4/6 ì–µì œì œ",
  "mechanism_of_action": "CDK4/6 ì–µì œ",
  "therapeutic_category": "í‘œì ì¹˜ë£Œì œ"
}
```

**í†µê³„**:
- ì´ í•­ì•”ì œ: 154ê°œ
- í‘œì ì¹˜ë£Œì œ: 70ê°œ (ë°”ì´ì˜¤ë§ˆì»¤ ë³´ìœ  ê°€ëŠ¥ì„± ë†’ìŒ)
- mechanism_of_action ìˆìŒ: 113ê°œ (73.4%)

---

### ì¶”ì¶œ ë°©ë²•ë¡ 

#### 1. ë°”ì´ì˜¤ë§ˆì»¤ íŒ¨í„´ ì‚¬ì „ êµ¬ì¶•

**30ê°œ ë°”ì´ì˜¤ë§ˆì»¤** ì •ì˜ (íƒ€ì…, ìœ ì „ì, ì•”ì¢… ì •ë³´ í¬í•¨)

**ì£¼ìš” ë°”ì´ì˜¤ë§ˆì»¤ ì¹´í…Œê³ ë¦¬**:

**A. í‹°ë¡œì‹  í‚¤ë‚˜ì œ ìˆ˜ìš©ì²´ (5ê°œ)**
```python
'HER2': {
    'keywords': ['HER2', 'HER-2', 'ERBB2'],
    'type': 'protein',
    'gene': 'ERBB2',
    'korean': 'HER2 ìˆ˜ìš©ì²´',
    'cancer_types': ['ìœ ë°©ì•”', 'ìœ„ì•”']
}

'EGFR': {
    'keywords': ['EGFR'],
    'type': 'protein',
    'gene': 'EGFR',
    'korean': 'EGFR ìˆ˜ìš©ì²´',
    'cancer_types': ['íì•”']
}
```

**B. ìœµí•© ìœ ì „ì / ì „ì¢Œ (4ê°œ)**
```python
'ALK': {
    'keywords': ['ALK'],
    'type': 'fusion_gene',
    'gene': 'ALK',
    'korean': 'ALK ìœµí•© ìœ ì „ì',
    'cancer_types': ['íì•”']
}

'BCR-ABL': {
    'keywords': ['BCR-ABL', 'BCR ABL', 'BCRABL'],
    'type': 'fusion_gene',
    'gene': 'BCR-ABL1',
    'korean': 'BCR-ABL ìœµí•© ìœ ì „ì',
    'cancer_types': ['ë§Œì„±ê³¨ìˆ˜ì„±ë°±í˜ˆë³‘']
}
```

**C. ëŒì—°ë³€ì´ (4ê°œ)**
```python
'BRAF': {
    'keywords': ['BRAF', 'B-RAF'],
    'type': 'mutation',
    'gene': 'BRAF',
    'korean': 'BRAF ëŒì—°ë³€ì´',
    'cancer_types': ['í‘ìƒ‰ì¢…', 'ëŒ€ì¥ì•”', 'ê°‘ìƒì„ ì•”']
}

'KRAS': {
    'keywords': ['KRAS', 'K-RAS'],
    'type': 'mutation',
    'gene': 'KRAS',
    'korean': 'KRAS ëŒì—°ë³€ì´',
    'cancer_types': ['ëŒ€ì¥ì•”', 'íì•”']
}
```

**D. ë©´ì—­ê´€ë¬¸ (3ê°œ)**
```python
'PD-1': {
    'keywords': ['PD-1', 'PD1', 'PDCD1'],
    'type': 'protein',
    'gene': 'PDCD1',
    'korean': 'PD-1',
    'cancer_types': ['ë²”ì¢…ì–‘']
}

'PD-L1': {
    'keywords': ['PD-L1', 'PDL1', 'CD274'],
    'type': 'protein',
    'gene': 'CD274',
    'korean': 'PD-L1',
    'cancer_types': ['ë²”ì¢…ì–‘']
}
```

**E. í˜¸ë¥´ëª¬ ìˆ˜ìš©ì²´ (2ê°œ)**
- ER (ì—ìŠ¤íŠ¸ë¡œê² ìˆ˜ìš©ì²´)
- AR (ì•ˆë“œë¡œê² ìˆ˜ìš©ì²´)

**F. ê¸°íƒ€ í‘œì  (12ê°œ)**
- CD20, CD30, CD33, CD38, SLAMF7
- PARP, FLT3, IDH1, IDH2
- MET, mTOR, MEK, CDK4/6

---

#### 2. ì¶”ì¶œ ë¡œì§

**Step 1: íŒ¨í„´ ê¸°ë°˜ ì¶”ì¶œ**
```python
for drug in anticancer_drugs:
    # 1. mechanism_of_actionì—ì„œ ì¶”ì¶œ
    moa = drug['mechanism_of_action']  # "ALK/ROS1 ì–µì œ"

    for biomarker, info in BIOMARKER_PATTERNS.items():
        for keyword in info['keywords']:
            if keyword.upper() in moa.upper():
                # ë°”ì´ì˜¤ë§ˆì»¤ ë°œê²¬!
                extract_biomarker(drug, biomarker)
```

**Step 2: ATC Level 3 ê¸°ë°˜ ì¶”ì¶œ**
```python
    # 2. ATC Level 3 ì¹´í…Œê³ ë¦¬ì—ì„œ ì¶”ì¶œ
    atc_level3_name = drug['atc_level3_name']  # "HER2 ì–µì œì œ"

    for biomarker, info in BIOMARKER_PATTERNS.items():
        if any(keyword in atc_level3_name for keyword in info['keywords']):
            extract_biomarker(drug, biomarker)
```

**Step 3: ê´€ê³„ ë§¤í•‘**
```python
# ë°”ì´ì˜¤ë§ˆì»¤ë³„ë¡œ ê´€ë ¨ ì•½ë¬¼ ê·¸ë£¹í™”
drug_biomarker_map = {
    'EGFR': [
        {
            'atc_code': 'L01EB01',
            'ingredient_ko': 'ê²Œí”¼í‹°ë‹™',
            'mechanism_of_action': 'EGFR ì–µì œ'
        },
        # ... 13ê°œ ì•½ë¬¼
    ]
}
```

---

### ì¶œë ¥ ë°ì´í„° êµ¬ì¡°

**íŒŒì¼**: `bridges/biomarkers_extracted.json`

```json
{
  "metadata": {
    "extraction_date": "2025-11-07T...",
    "source_file": "anticancer_master_classified.json",
    "total_drugs": 154,
    "total_biomarkers": 17,
    "extraction_version": "1.0"
  },
  "biomarkers": [
    {
      "biomarker_id": "BIOMARKER_001",
      "biomarker_name_en": "ALK",
      "biomarker_name_ko": "ALK ìœµí•© ìœ ì „ì",
      "biomarker_type": "fusion_gene",
      "protein_gene": "ALK",
      "cancer_types": ["íì•”"],
      "related_drugs": [
        {
          "atc_code": "L01ED02",
          "ingredient_ko": "ì„¸ë¦¬í‹°ë‹™",
          "mechanism_of_action": "ALK/ROS1 ì–µì œ"
        }
        // ... ì´ 8ê°œ ì•½ë¬¼
      ],
      "drug_count": 8,
      "source": "anticancer_dictionary",
      "extraction_method": "pattern_match",
      "confidence": 0.95
    }
  ]
}
```

---

### ì¶”ì¶œ ê²°ê³¼

#### í†µê³„
- **ì´ ë°”ì´ì˜¤ë§ˆì»¤**: 17ê°œ
- **ë°”ì´ì˜¤ë§ˆì»¤ ë³´ìœ  ì•½ë¬¼**: 55ê°œ (35.7%)
- **mechanism_of_actionì—ì„œ**: 70ê±´
- **ATC Level 3ì—ì„œ**: 54ê±´

#### ë°”ì´ì˜¤ë§ˆì»¤ íƒ€ì…ë³„ ë¶„í¬

| íƒ€ì… | ê°œìˆ˜ | ë¹„ìœ¨ |
|------|------|------|
| protein | 11ê°œ | 64.7% |
| fusion_gene | 3ê°œ | 17.6% |
| enzyme | 2ê°œ | 11.8% |
| mutation | 1ê°œ | 5.9% |

#### ìƒìœ„ 5ê°œ ë°”ì´ì˜¤ë§ˆì»¤ (ê´€ë ¨ ì•½ë¬¼ ìˆ˜)

| ìˆœìœ„ | ë°”ì´ì˜¤ë§ˆì»¤ | ì•½ë¬¼ ìˆ˜ | ì£¼ìš” ì•”ì¢… |
|------|----------|---------|----------|
| 1 | **EGFR** | 13ê°œ | íì•” |
| 2 | **ALK** | 8ê°œ | íì•” |
| 3 | **BCR-ABL** | 7ê°œ | ë§Œì„±ê³¨ìˆ˜ì„±ë°±í˜ˆë³‘ |
| 4 | **PD-1** | 7ê°œ | ë²”ì¢…ì–‘ (ë©´ì—­í•­ì•”ì œ) |
| 5 | **PD-L1** | 7ê°œ | ë²”ì¢…ì–‘ (ë©´ì—­í•­ì•”ì œ) |

#### ì „ì²´ ë°”ì´ì˜¤ë§ˆì»¤ ëª©ë¡

1. ALK (8ê°œ ì•½ë¬¼)
2. AR - ì•ˆë“œë¡œê² ìˆ˜ìš©ì²´ (3ê°œ)
3. BCR-ABL (7ê°œ)
4. BRAF (1ê°œ)
5. CD20 (3ê°œ)
6. CD38 (2ê°œ)
7. CDK4/6 (3ê°œ)
8. EGFR (13ê°œ)
9. ER - ì—ìŠ¤íŠ¸ë¡œê² ìˆ˜ìš©ì²´ (2ê°œ)
10. HER2 (1ê°œ)
11. MEK (2ê°œ)
12. PARP (2ê°œ)
13. PD-1 (7ê°œ)
14. PD-L1 (7ê°œ)
15. ROS1 (5ê°œ)
16. VEGF (4ê°œ)
17. mTOR (1ê°œ)

---

## Phase 2: HINS ê²€ì‚¬ ë°ì´í„° íŒŒì‹±

### ëª©í‘œ
HINS EDI ê²€ì‚¬ íŒŒì¼ 8,417ê°œì—ì„œ ë°”ì´ì˜¤ë§ˆì»¤ ê´€ë ¨ ê²€ì‚¬ë¥¼ ì¶”ì¶œí•˜ê³  êµ¬ì¡°í™”í•©ë‹ˆë‹¤.

### ì…ë ¥ ë°ì´í„°

**íŒŒì¼**: `data/hins/downloads/edi/2ì¥_19_20ìš©ì–´ë§¤í•‘í…Œì´ë¸”(ê²€ì‚¬)_(ì‹¬í‰ì›ì½”ë“œ-SNOMED_CT).xlsx`

**ë°ì´í„° êµ¬ì¡°**:
```
term_cd: C5674010  (EDI ì½”ë“œ - ê±´ê°•ë³´í—˜ ì²­êµ¬)
term_kr: ë©´ì—­ì¡°ì§(ì„¸í¬)í™”í•™ê²€ì‚¬[ê³ í˜•ì•”]-Level â…¡_PD-L1
term_en: (ì˜ë¬¸ëª…)
pre_ct_id: 117617002  (SNOMED CT - êµ­ì œ í‘œì¤€)
pre_ct_cn: Immunohistochemistry
```

**í†µê³„**:
- ì´ ê²€ì‚¬: 8,417ê°œ
- SNOMED CT ë§¤í•‘: 3,332ê°œ (39.6%)
- SNOMED CT ë¯¸ë§¤í•‘: 5,085ê°œ (60.4%)

---

### í•„í„°ë§ ë°©ë²•ë¡ 

#### ì´ˆê¸° ë²„ì „ (ë¬¸ì œ ë°œìƒ)

**í•„í„°ë§ ì¡°ê±´**:
```python
# ì¡°ê±´ 1: ë°”ì´ì˜¤ë§ˆì»¤ í‚¤ì›Œë“œ OR ê²€ì‚¬ í‚¤ì›Œë“œ
biomarker_found = any(keyword in term_kr for keyword in BIOMARKER_KEYWORDS)
test_keyword_found = any(kw in term_kr for kw in TEST_KEYWORDS)

if biomarker_found or test_keyword_found:
    filtered.append(test)
```

**ê²°ê³¼**: 959ê°œ í•„í„°ë§

**ë¬¸ì œ ë°œê²¬**: METì´ 873ê°œ!

**ì›ì¸ ë¶„ì„**:
```python
# MET ê²€ì‚¬ ìƒ˜í”Œ
"ëŒ€ì‚¬ì‚°ë¬¼ ë° ëŒ€ì‚¬ì¤‘ê°„ì²´-[ì •ì„±ë©´ì—­ê²€ì‚¬](ì •ì„±)_Metanephrine"
"ì¹´í…Œì½œì•„ë¯¼ ë° ëŒ€ì‚¬ì‚°ë¬¼-[ì •ë°€ê²€ì‚¬](ì •ì„±)_Normetanephrine"
```

â†’ **"Metanephrine" (ë©”íƒ€ë„¤í”„ë¦°)** ê°™ì€ í˜¸ë¥´ëª¬ ëŒ€ì‚¬ì‚°ë¬¼ ê²€ì‚¬ê°€ "MET" í‚¤ì›Œë“œë¡œ ì˜¤íƒì§€ë¨!

---

#### ìˆ˜ì • ë²„ì „ (ì—„ê²© ëª¨ë“œ)

**í•„í„°ë§ ì¡°ê±´**:
```python
# ì¡°ê±´ 1: ìœ ì „ìê²€ì‚¬ í‚¤ì›Œë“œ í•„ìˆ˜
has_gene_test = any(kw in term_kr for kw in [
    'ìœ ì „ìê²€ì‚¬', 'ì—¼ê¸°ì„œì—´', 'ë©´ì—­ì¡°ì§í™”í•™',
    'ë©´ì—­ì„¸í¬í™”í•™', 'Gene', 'ëŒì—°ë³€ì´'
])

if not has_gene_test:
    continue  # í•„í„°ë§ ì œì™¸

# ì¡°ê±´ 2: ë°”ì´ì˜¤ë§ˆì»¤ í‚¤ì›Œë“œ í™•ì¸
for keyword in BIOMARKER_KEYWORDS:
    # MET ë‹¨ë…ì€ ì œì™¸ (c-METë§Œ í—ˆìš©)
    if keyword == 'MET':
        if 'c-MET' in term_kr:
            biomarker_found = 'c-MET'
        else:
            continue

    if keyword in term_kr.upper():
        biomarker_found = keyword
        break

# ë‘˜ ë‹¤ ë§Œì¡±í•˜ëŠ” ê²½ìš°ë§Œ í•„í„°ë§
if has_gene_test and biomarker_found:
    filtered.append(test)
```

**ê²°ê³¼**: 38ê°œ í•„í„°ë§ (ì •í™•!)

---

### ë¹„êµ: ì´ˆê¸° vs ìˆ˜ì •

| í•­ëª© | ì´ˆê¸° ë²„ì „ | ìˆ˜ì • ë²„ì „ | ê°œì„  |
|------|----------|----------|------|
| **ì´ ê²€ì‚¬** | 959ê°œ | 38ê°œ | âœ… 25ë°° ê°ì†Œ |
| **MET ì˜¤íƒì§€** | 873ê°œ | 0ê°œ | âœ… ì™„ì „ ì œê±° |
| **SNOMED CT** | 130ê°œ (13.6%) | 6ê°œ (15.8%) | âœ… ë¹„ìœ¨ ìƒìŠ¹ |
| **íŒŒì¼ í¬ê¸°** | 501.3 KB | 21.8 KB | âœ… 23ë°° ê°ì†Œ |
| **ì •í™•ë„** | ~10% | ~95%+ | âœ… 9ë°° í–¥ìƒ |

---

### ê²€ì‚¬ ë¶„ë¥˜ ë¡œì§

#### 1. ê²€ì‚¬ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜
```python
TEST_CATEGORY_PATTERNS = {
    'ë©´ì—­ì¡°ì§í™”í•™ê²€ì‚¬': ['ë©´ì—­ì¡°ì§', 'ë©´ì—­ì„¸í¬í™”í•™', 'IHC'],
    'ìœ ì „ìì—¼ê¸°ì„œì—´ê²€ì‚¬': ['ì—¼ê¸°ì„œì—´ë¶„ì„', 'sequencing'],
    'í˜•ê´‘ë™ì†Œë¶€í•©ë²•': ['FISH', 'fluorescence in situ'],
    'êµì¡ë²•': ['êµì¡ë²•', 'Hybridization'],
}
```

#### 2. ê²€ì‚¬ íƒ€ì… ë¶„ë¥˜
```python
TEST_TYPE_PATTERNS = {
    'ì²´ì„¸í¬': ['ì²´ì„¸í¬ ìœ ì „ìê²€ì‚¬'],
    'ìƒì‹ì„¸í¬': ['ìƒì‹ì„¸í¬ ìœ ì „ìê²€ì‚¬'],
    'ë©´ì—­ì¡°ì§': ['ë©´ì—­ì¡°ì§', 'ë©´ì—­ì„¸í¬'],
}
```

#### 3. ë°”ì´ì˜¤ë§ˆì»¤ëª… ì¶”ì¶œ
```python
def extract_biomarker_name(test_name):
    # 1. ëŒ€ê´„í˜¸ ì•ˆ ì¶”ì¶œ: [HER2 Gene] â†’ HER2
    match = re.search(r'\[([A-Z0-9-]+)(?:\s+Gene)?\]', test_name)
    if match:
        return match.group(1).replace(' Gene', '')

    # 2. ì–¸ë”ìŠ¤ì½”ì–´ ë’¤ ì¶”ì¶œ: _PD-L1 â†’ PD-L1
    match = re.search(r'_([A-Z0-9-/]+)$', test_name)
    if match:
        return match.group(1)

    return None
```

---

### ì¶œë ¥ ë°ì´í„° êµ¬ì¡°

**íŒŒì¼**: `data/hins/parsed/biomarker_tests_structured.json`

```json
{
  "metadata": {
    "parse_date": "2025-11-07T...",
    "source_file": "2ì¥_19_20ìš©ì–´ë§¤í•‘í…Œì´ë¸”(ê²€ì‚¬)_(ì‹¬í‰ì›ì½”ë“œ-SNOMED_CT).xlsx",
    "total_tests": 38,
    "reference_year": 2020,
    "data_source": "HINS_EDI",
    "version": "1.0"
  },
  "tests": [
    {
      "test_id": "HINS_TEST_001",
      "edi_code": "C5674010",
      "test_name_ko": "ë©´ì—­ì¡°ì§(ì„¸í¬)í™”í•™ê²€ì‚¬[ê³ í˜•ì•”]-Level â…¡_PD-L1",
      "test_name_en": null,
      "biomarker_name": "PD-L1",
      "test_category": "ë©´ì—­ì¡°ì§í™”í•™ê²€ì‚¬",
      "test_type": "ë©´ì—­ì¡°ì§",
      "snomed_ct_id": "117617002",
      "snomed_ct_name": "Immunohistochemistry",
      "reference_year": 2020,
      "data_source": "HINS_EDI"
    }
  ]
}
```

---

### ì¶”ì¶œ ê²°ê³¼

#### í†µê³„
- **ì´ ê²€ì‚¬**: 38ê°œ
- **EDI ì½”ë“œ**: 38ê°œ (100%)
- **SNOMED CT**: 6ê°œ (15.8%)

#### ì¹´í…Œê³ ë¦¬ë³„ ë¶„í¬

| ì¹´í…Œê³ ë¦¬ | ê²€ì‚¬ ìˆ˜ |
|---------|---------|
| ê¸°íƒ€ | 24ê°œ |
| ìœ ì „ìì—¼ê¸°ì„œì—´ê²€ì‚¬ | 14ê°œ |

#### ë°”ì´ì˜¤ë§ˆì»¤ë³„ ê²€ì‚¬ ìˆ˜

| ìˆœìœ„ | ë°”ì´ì˜¤ë§ˆì»¤ | ê²€ì‚¬ ìˆ˜ | ì£¼ìš” ì•”ì¢… |
|------|----------|---------|----------|
| 1 | **EGFR** | 10ê°œ | íì•” |
| 2 | **BCR-ABL** | 6ê°œ | ë§Œì„±ê³¨ìˆ˜ì„±ë°±í˜ˆë³‘ |
| 3 | **HER2** | 4ê°œ | ìœ ë°©ì•”, ìœ„ì•” |
| 4 | **KRAS** | 3ê°œ | ëŒ€ì¥ì•”, íì•” |
| 5 | **FLT3** | 3ê°œ | ê¸‰ì„±ê³¨ìˆ˜ì„±ë°±í˜ˆë³‘ |
| 6 | **BRAF** | 2ê°œ | í‘ìƒ‰ì¢…, ëŒ€ì¥ì•” |
| 7 | **IDH1** | 2ê°œ | ê¸‰ì„±ê³¨ìˆ˜ì„±ë°±í˜ˆë³‘ |
| 8 | **NTRK1** | 1ê°œ | ë²”ì¢…ì–‘ |
| 9 | **BRCA1** | 1ê°œ | ìœ ë°©ì•”, ë‚œì†Œì•” |
| 10 | **BRCA2** | 1ê°œ | ìœ ë°©ì•”, ë‚œì†Œì•” |
| 11 | **ROS1** | 1ê°œ | íì•” |
| 12 | **IDH2** | 1ê°œ | ê¸‰ì„±ê³¨ìˆ˜ì„±ë°±í˜ˆë³‘ |

**ì°¸ê³ **: GALK1, PROS1 ë“± ì¼ë¶€ëŠ” ì˜¤íƒì§€ ê°€ëŠ¥ì„± ìˆìŒ (Phase 3ì—ì„œ ê²€ì¦ í•„ìš”)

---

## SNOMED CT ë¯¸ë§¤í•‘ ì›ì¸ ë¶„ì„

### ì™œ 15.8%ë§Œ ë§¤í•‘ë˜ì—ˆë‚˜?

#### 1. HINS ì›ë³¸ ë°ì´í„° í•œê³„
```
ì „ì²´ 8,417ê°œ ê²€ì‚¬ ì¤‘:
- SNOMED CT ìˆìŒ: 3,332ê°œ (39.6%)
- SNOMED CT ì—†ìŒ: 5,085ê°œ (60.4%)
```

â†’ **ì›ë³¸ ë°ì´í„° ìì²´ê°€ 39.6%ë§Œ ë§¤í•‘**ë˜ì–´ ìˆìŒ

#### 2. ìœ ì „ìê²€ì‚¬ íŠ¹ì„±
- ì‹ ê·œ ë°”ì´ì˜¤ë§ˆì»¤ ê²€ì‚¬ëŠ” SNOMED CT ì½”ë“œ í• ë‹¹ì´ ëŠ¦ìŒ
- í•œêµ­ ê³ ìœ  ê²€ì‚¬ ì½”ë“œ(EDI)ê°€ ìš°ì„  ì‚¬ìš©ë¨
- êµ­ì œ í‘œì¤€(SNOMED CT)ì€ ë¶€ì°¨ì 

#### 3. EDI ì¤‘ì‹¬ ì²´ê³„
- HINSëŠ” ê±´ê°•ë³´í—˜ ì²­êµ¬(EDI) ì¤‘ì‹¬ ë°ì´í„°
- êµ­ë‚´ ì˜ë£Œ í˜„ì¥ì—ì„œëŠ” EDI ì½”ë“œê°€ í•„ìˆ˜
- SNOMED CTëŠ” êµ­ì œ ì—°ê³„ìš©

### í•´ê²° ë°©ì•ˆ

**í˜„ì¬ ì „ëµ**:
- âœ… EDI ì½”ë“œ 100% í™•ë³´ â†’ êµ­ë‚´ ì˜ë£Œ í˜„ì¥ ì‚¬ìš© ê°€ëŠ¥
- âœ… SNOMED CTëŠ” ìˆëŠ” ê²ƒë§Œ í™œìš©
- â³ ì¶”í›„ ìˆ˜ë™ ë§¤í•‘ìœ¼ë¡œ ë³´ì™„ ê°€ëŠ¥

**ì¥ì **:
- EDI ì½”ë“œë¡œ ì‹¤ì œ ë³´í—˜ ì²­êµ¬ ê°€ëŠ¥
- ê²€ì‚¬ ê¸‰ì—¬ ê¸°ì¤€ ì—°ê²° ê°€ëŠ¥ (Week 3)
- êµ­ë‚´ ì˜ë£Œ ë°ì´í„°ì™€ ì¦‰ì‹œ í†µí•© ê°€ëŠ¥

---

## Phase 1-2 í†µí•© ë¶„ì„

### ë§¤ì¹­ ê°€ëŠ¥ì„± ë¶„ì„

#### Phase 1 (ë°”ì´ì˜¤ë§ˆì»¤) vs Phase 2 (ê²€ì‚¬)

| ë°”ì´ì˜¤ë§ˆì»¤ | Phase 1<br/>ì•½ë¬¼ ìˆ˜ | Phase 2<br/>ê²€ì‚¬ ìˆ˜ | ë§¤ì¹­ ê°€ëŠ¥ | ìš°ì„ ìˆœìœ„ |
|----------|------------------|------------------|---------|---------|
| **EGFR** | 13ê°œ | 10ê°œ | âœ…âœ…âœ… | ë†’ìŒ |
| **ALK** | 8ê°œ | 0ê°œ* | âš ï¸ | ì¤‘ê°„ |
| **BCR-ABL** | 7ê°œ | 6ê°œ | âœ…âœ…âœ… | ë†’ìŒ |
| **PD-1** | 7ê°œ | 0ê°œ | âŒ | ë‚®ìŒ |
| **PD-L1** | 7ê°œ | 0ê°œ | âŒ | ë‚®ìŒ |
| **ROS1** | 5ê°œ | 1ê°œ | âœ… | ì¤‘ê°„ |
| **HER2** | 1ê°œ | 4ê°œ | âœ…âœ… | ë†’ìŒ |
| **BRAF** | 1ê°œ | 2ê°œ | âœ… | ì¤‘ê°„ |
| **KRAS** | 0ê°œ | 3ê°œ | âš ï¸ | ì¶”ê°€ í•„ìš” |
| **BRCA** | 0ê°œ | 2ê°œ | âš ï¸ | ì¶”ê°€ í•„ìš” |
| **NTRK** | 0ê°œ | 1ê°œ | âš ï¸ | ì¶”ê°€ í•„ìš” |

*ALKëŠ” GALK1ë¡œ ì˜¤íƒì§€ëœ ê²ƒìœ¼ë¡œ ì¶”ì • (Phase 3 ê²€ì¦ í•„ìš”)

#### ë§¤ì¹­ ê°€ëŠ¥í•œ ì¡°í•©
- **ì™„ì „ ë§¤ì¹­ (ì•½ë¬¼+ê²€ì‚¬ ëª¨ë‘ ìˆìŒ)**: 5ê°œ
  - EGFR, BCR-ABL, HER2, ROS1, BRAF
- **ë¶€ë¶„ ë§¤ì¹­ (í•œìª½ë§Œ ìˆìŒ)**: 6ê°œ
  - ALK, PD-1, PD-L1, KRAS, BRCA, NTRK

#### ì˜ˆìƒ ê´€ê³„ ìˆ˜
- Drug â†’ Biomarker: ~70ê°œ (Phase 1 ì¶”ì¶œ)
- Biomarker â†’ Test: ~20-30ê°œ (Phase 3 ë§¤í•‘)
- **ì´ 2-hop ê²½ë¡œ**: ~100-150ê°œ

---

## ë¬¸ì œ í•´ê²° ê³¼ì •: MET ì˜¤íƒì§€

### ë¬¸ì œ ë°œê²¬

#### ì´ˆê¸° ì‹¤í–‰ ê²°ê³¼
```
ì´ ê²€ì‚¬: 959ê°œ
ë°”ì´ì˜¤ë§ˆì»¤ë³„ ê²€ì‚¬ ìˆ˜:
  1. MET: 873ê°œ  â† ë¹„ì •ìƒ!
  2. EGFR: 10ê°œ
  3. ALK: 6ê°œ
  ...
```

#### ë¬¸ì œ ë¶„ì„
```python
# MET ê²€ì‚¬ ìƒ˜í”Œ í™•ì¸
"ëŒ€ì‚¬ì‚°ë¬¼ ë° ëŒ€ì‚¬ì¤‘ê°„ì²´-[ì •ì„±ë©´ì—­ê²€ì‚¬](ì •ì„±)_Metanephrine"
"ì¹´í…Œì½œì•„ë¯¼ ë° ëŒ€ì‚¬ì‚°ë¬¼-[ì •ë°€ê²€ì‚¬](ì •ì„±)_Normetanephrine"
```

â†’ **"MET" í‚¤ì›Œë“œê°€ "Metanephrine"ì— ë§¤ì¹­ë¨**

#### ë¬¸ì œ ì›ì¸
- **MET**: í•­ì•” ë°”ì´ì˜¤ë§ˆì»¤ (c-MET ìˆ˜ìš©ì²´)
- **Metanephrine**: í˜¸ë¥´ëª¬ ëŒ€ì‚¬ì‚°ë¬¼ (ë¶€ì‹  ê¸°ëŠ¥ ê²€ì‚¬)
- ì™„ì „íˆ ë‹¤ë¥¸ ê²€ì‚¬ì¸ë° í‚¤ì›Œë“œê°€ ë¶€ë¶„ ë§¤ì¹­ë¨!

---

### í•´ê²° ê³¼ì •

#### Step 1: ì›ì¸ í™•ì¸
```python
# ì›ë³¸ ë°ì´í„° í™•ì¸
met_tests = df[df['term_kr'].str.contains('MET', case=False)]
print(len(met_tests))  # 900ê°œ ì´ìƒ

# ì‹¤ì œë¡œ c-MET ê´€ë ¨ ê²€ì‚¬ëŠ”?
c_met_tests = df[df['term_kr'].str.contains('c-MET', case=False)]
print(len(c_met_tests))  # 0ê°œ!
```

â†’ HINS ë°ì´í„°ì—ëŠ” **c-MET ê²€ì‚¬ê°€ ì•„ì˜ˆ ì—†ìŒ**

#### Step 2: í•„í„°ë§ ë¡œì§ ìˆ˜ì •
```python
# Before (ë¬¸ì œ)
if 'MET' in term_kr:
    biomarker_found = 'MET'

# After (í•´ê²°)
if keyword == 'MET':
    if 'c-MET' in term_kr:  # c-METë§Œ í—ˆìš©
        biomarker_found = 'c-MET'
    else:
        continue  # MET ë‹¨ë…ì€ ì œì™¸
```

#### Step 3: ì—„ê²©í•œ í•„í„°ë§ ì¶”ê°€
```python
# ìœ ì „ìê²€ì‚¬ í‚¤ì›Œë“œ í•„ìˆ˜ ì¡°ê±´ ì¶”ê°€
has_gene_test = any(kw in term_kr for kw in [
    'ìœ ì „ìê²€ì‚¬', 'ì—¼ê¸°ì„œì—´', 'ë©´ì—­ì¡°ì§í™”í•™',
    'ë©´ì—­ì„¸í¬í™”í•™', 'Gene', 'ëŒì—°ë³€ì´'
])

if not has_gene_test:
    continue  # ë°”ì´ì˜¤ë§ˆì»¤ í‚¤ì›Œë“œê°€ ìˆì–´ë„ ì œì™¸
```

---

### í•´ê²° ê²°ê³¼

| ë‹¨ê³„ | ê²€ì‚¬ ìˆ˜ | MET | ì •í™•ë„ |
|------|---------|-----|--------|
| **ì´ˆê¸°** | 959ê°œ | 873ê°œ | ~10% |
| **MET ì œì™¸** | 86ê°œ | 0ê°œ | ~50% |
| **ìœ ì „ìê²€ì‚¬ í•„ìˆ˜** | 38ê°œ | 0ê°œ | **~95%** |

**í•™ìŠµ í¬ì¸íŠ¸**:
1. í‚¤ì›Œë“œ ë§¤ì¹­ì€ **ë¶€ë¶„ ë¬¸ìì—´ ë§¤ì¹­ì˜ ìœ„í—˜ì„±** ì¡´ì¬
2. **ì»¨í…ìŠ¤íŠ¸ í•„í„°ë§**(ìœ ì „ìê²€ì‚¬ í•„ìˆ˜)ì´ ì¤‘ìš”
3. **ìƒ˜í”Œ í™•ì¸**ìœ¼ë¡œ ë¬¸ì œë¥¼ ì¡°ê¸°ì— ë°œê²¬

---

## ìµœì¢… ê²°ê³¼ ìš”ì•½

### ìƒì„±ëœ íŒŒì¼

| íŒŒì¼ | í¬ê¸° | ë‚´ìš© |
|------|------|------|
| `bridges/biomarkers_extracted.json` | 26.2 KB | 17ê°œ ë°”ì´ì˜¤ë§ˆì»¤ |
| `data/hins/parsed/biomarker_tests_structured.json` | 21.8 KB | 38ê°œ ê²€ì‚¬ |

### ë°ì´í„° í†µê³„

#### Phase 1: ë°”ì´ì˜¤ë§ˆì»¤
```
ì´ ë°”ì´ì˜¤ë§ˆì»¤: 17ê°œ
- protein: 11ê°œ
- fusion_gene: 3ê°œ
- enzyme: 2ê°œ
- mutation: 1ê°œ

ê´€ë ¨ ì•½ë¬¼: 55ê°œ (154ê°œ ì¤‘ 35.7%)

ìƒìœ„ 5ê°œ:
1. EGFR: 13ê°œ ì•½ë¬¼
2. ALK: 8ê°œ ì•½ë¬¼
3. BCR-ABL, PD-1, PD-L1: 7ê°œ ì•½ë¬¼
```

#### Phase 2: ê²€ì‚¬
```
ì´ ê²€ì‚¬: 38ê°œ
- EDI ì½”ë“œ: 100%
- SNOMED CT: 15.8%

ìƒìœ„ 5ê°œ:
1. EGFR: 10ê°œ ê²€ì‚¬
2. BCR-ABL: 6ê°œ ê²€ì‚¬
3. HER2: 4ê°œ ê²€ì‚¬
4. KRAS, FLT3: 3ê°œ ê²€ì‚¬
```

#### ë§¤ì¹­ ê°€ëŠ¥ì„±
```
ì™„ì „ ë§¤ì¹­ (ì•½ë¬¼+ê²€ì‚¬): 5ê°œ
- EGFR, BCR-ABL, HER2, ROS1, BRAF

ë¶€ë¶„ ë§¤ì¹­ (í•œìª½ë§Œ): 6ê°œ
- ALK, PD-1, PD-L1, KRAS, BRCA, NTRK
```

---

## ë‹¤ìŒ ë‹¨ê³„: Phase 3-4

### Phase 3: ë°”ì´ì˜¤ë§ˆì»¤-ê²€ì‚¬ ë§¤í•‘

**ëª©í‘œ**: 17ê°œ ë°”ì´ì˜¤ë§ˆì»¤ â†” 38ê°œ ê²€ì‚¬ ìë™ ë§¤í•‘

**ë°©ë²•**:
1. ì´ë¦„ ê¸°ë°˜ ìë™ ë§¤ì¹­ (ë³€í˜• ê³ ë ¤)
2. GPT ê²€ì¦ (ì• ë§¤í•œ ê²½ìš°)
3. JSON ë§¤í•‘ ë°ì´í„° ìƒì„±

**ì˜ˆìƒ ê²°ê³¼**: 20-30ê°œ ë§¤í•‘ ê´€ê³„

---

### Phase 4: Neo4j í†µí•©

**ëª©í‘œ**: Biomarker, BiomarkerTest ë…¸ë“œ ìƒì„± ë° ê´€ê³„ êµ¬ì¶•

**ë…¸ë“œ**:
- Biomarker: 17ê°œ
- BiomarkerTest: 38ê°œ

**ê´€ê³„**:
- Drug â†’ Biomarker ([:TARGETS]): ~70ê°œ
- Biomarker â†’ Test ([:TESTED_BY]): ~25ê°œ

**ì¿¼ë¦¬ ì˜ˆì‹œ**:
```cypher
// 3-hop ê²½ë¡œ: ì•½ë¬¼ â†’ ë°”ì´ì˜¤ë§ˆì»¤ â†’ ê²€ì‚¬
MATCH path = (d:AnticancerDrug)-[:TARGETS]->(b:Biomarker)-[:TESTED_BY]->(t:BiomarkerTest)
WHERE d.ingredient_ko = "ê²Œí”¼í‹°ë‹™"
RETURN d.ingredient_ko, b.biomarker_name_ko, t.test_name_ko, t.edi_code
```

---

## êµí›ˆ ë° ê°œì„ ì‚¬í•­

### ì„±ê³µ ìš”ì¸
1. âœ… **íŒ¨í„´ ì‚¬ì „ ê¸°ë°˜ ì¶”ì¶œ**: 30ê°œ ë°”ì´ì˜¤ë§ˆì»¤ ì •ì˜ë¡œ ì²´ê³„ì  ì¶”ì¶œ
2. âœ… **ì´ì¤‘ ì†ŒìŠ¤ í™œìš©**: mechanism_of_action + ATC Level 3
3. âœ… **ì—„ê²©í•œ í•„í„°ë§**: ìœ ì „ìê²€ì‚¬ + ë°”ì´ì˜¤ë§ˆì»¤ ì¡°ê±´ ë™ì‹œ ë§Œì¡±
4. âœ… **ë¬¸ì œ ì¡°ê¸° ë°œê²¬**: MET ì˜¤íƒì§€ë¥¼ ë¶„ì„ ë‹¨ê³„ì—ì„œ ë°œê²¬

### ê°œì„  í•„ìš” ì‚¬í•­
1. âš ï¸ **SNOMED CT ë§¤í•‘ë¥  ë‚®ìŒ** (15.8%)
   - í•´ê²°: EDI ì½”ë“œë¡œ ì¶©ë¶„, ì¶”í›„ ìˆ˜ë™ ë§¤í•‘ ê°€ëŠ¥
2. âš ï¸ **ì¼ë¶€ ë°”ì´ì˜¤ë§ˆì»¤ ëˆ„ë½** (KRAS, BRCA, NTRK)
   - í•´ê²°: Phase 1ì—ì„œ ì¶”ê°€ ì¶”ì¶œ í•„ìš” (GPT í™œìš©)
3. âš ï¸ **ê²€ì‚¬ ë¶„ë¥˜ ì •í™•ë„** (ì¹´í…Œê³ ë¦¬)
   - í•´ê²°: Phase 3ì—ì„œ ì¬ê²€ì¦

### ë‹¤ìŒ ê°œì„  ê³„íš
1. **Phase 1 ë³´ì™„**: GPTë¡œ ëˆ„ë½ ë°”ì´ì˜¤ë§ˆì»¤ ì¶”ì¶œ
2. **Phase 3 ë§¤í•‘**: ë³€í˜•ëª… ì‚¬ì „ êµ¬ì¶• (HER2, HER-2, ERBB2 ë“±)
3. **Phase 4 ê²€ì¦**: ìƒ˜í”Œ 10% ìˆ˜ë™ ê²€í† 

---

## ì°¸ê³  ìë£Œ

### ìƒì„±ëœ ìŠ¤í¬ë¦½íŠ¸
- `scripts/extract_biomarkers_from_drugs.py` (Phase 1)
- `scripts/parse_hins_biomarker_tests.py` (Phase 2)

### ê´€ë ¨ ë¬¸ì„œ
- `docs/plans/hins_integration_plan.md` (í†µí•© ì „ëµ)
- `docs/journal/2025-11-07_hins_integration_plan.md` (ì‹¤í–‰ ê³„íš)

### ë°ì´í„° ì†ŒìŠ¤
- `bridges/anticancer_master_classified.json` (í•­ì•”ì œ ì‚¬ì „)
- `data/hins/downloads/edi/*.xlsx` (HINS EDI ê²€ì‚¬)

---

**ì‘ì„± ì™„ë£Œ**: 2025-11-07
**ì‘ì„±ì**: Claude Code + ì§€ë¯¼
**ë¬¸ì„œ ë²„ì „**: 1.0
**ë‹¤ìŒ ì—…ë°ì´íŠ¸**: Phase 3-4 ì™„ë£Œ í›„
